<% layout('layouts/boilerplate') %>

<h2><%= group ? 'Editar' : 'Agregar' %> Grupo</h2>

<div class="card">
  <div class="card-body">
    <form method="POST" action="/admin/groups<%= group ? '/' + group._id : '' %>">
      <div class="row">
        <div class="col-md-3">
          <div class="mb-3">
            <label class="form-label">Codigo</label>
            <input type="text" name="code" class="form-control" value="<%= group ? group.code : '' %>"
                   required maxlength="5" placeholder="A, B, C..." style="text-transform: uppercase;">
            <small class="text-muted">Identificador corto (max 5 caracteres)</small>
          </div>
        </div>
        <div class="col-md-6">
          <div class="mb-3">
            <label class="form-label">Nombre</label>
            <input type="text" name="name" class="form-control" value="<%= group ? group.name : '' %>"
                   required placeholder="Grupo A, Camino Exito, etc.">
          </div>
        </div>
        <div class="col-md-3">
          <div class="mb-3">
            <label class="form-label">Color</label>
            <input type="color" name="color" class="form-control form-control-color"
                   value="<%= group ? group.color : '#6c757d' %>" style="width: 100%;">
          </div>
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label">Descripcion (opcional)</label>
        <textarea name="description" class="form-control" rows="2"
                  placeholder="Describe el proposito de este grupo..."><%= group ? group.description || '' : '' %></textarea>
      </div>
      <button type="submit" class="btn btn-primary">Guardar</button>
      <a href="/admin/groups" class="btn btn-secondary">Cancelar</a>
    </form>
  </div>
</div>
